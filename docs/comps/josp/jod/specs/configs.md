# JOSP JOD Configs

The JOD Agent use the ```configs/jod.yml``` as main config file. <br/>
You can override default value, using the ```--configs``` (or shorter ```-c```)
params when you execute the JOD Agent from the command line.

This file contains all JOD Agent configurations as properties list. This list
includes object's id and name, but also JCP urls and boolean properties to
enable/disable communications.

_Do not update the object's id manually. It can create inconsistency with other
JOD Agent's files._

**If the JOD Agent instance is running, you must restart it to apply configs updates.**

## Properties list

| Property                                                      | Default value          | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|---------------------------------------------------------------|------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| jod.obj.name<br/>(JODOBJ_NAME)                                | ""                     | Object's name displayed to End User. If empty a random name will be generated.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| jod.obj.id_cloud<br/>(JODOBJ_IDCLOUD)                         | ""                     | Object's id, a 17 char length unique code. **Do not edit it manually.**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| jod.obj.id_hw<br/>(JODOBJ_IDHW)                               | ""                     | Object's hardware id, a 5 char length code generated once for each JOD Agent.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| jod.structure.path<br/>(JODSTRUCT_PATH)                       | configs/struct.jod     | Path for the file that define [object's structure](structure.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| jod.comm.local.enabled<br/>(JODCOMM_LOCAL_ENABLED)            | true                   | Set 'false' to disable the [JOD Local Server](../comm.md#direct-communication) and make object not reachable on local network ([Direct Communication](/docs/features/communication.md#direct-communication)).                                                                                                                                                                                                                                                                                                                                                            |
| jod.comm.local.discovery<br/>(JODCOMM_LOCAL_DISCOVERY)        | Auto                   | Discovery system implementation, you can choose between different mDNS/Bonjour implementations. It can be one of the following values:<br/>**Auto** choose the discovery system depending the detected operating system<br/>**Avahi** use the Avahi daemon implementation, common on linux system<br/>**DNSSD** the default MacOS bonjour service<br/>**JmDNS** java mDNS implementation from [jmdns](https://github.com/jmdns/jmdns) library<br/>**JmmDNS* java mDNS implementation from [jmdns](https://github.com/jmdns/jmdns) library (multiple interfaces version). |
| jod.comm.local.port<br/>(JODCOMM_LOCAL_PORT)                  | 0                      | JOD Local server port, if ```0``` a random port will be used.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| jod.comm.cloud.enabled<br/>(JODCOMM_CLOUD_ENABLED)            | true                   | Set 'false' to disable the [JOD Gateway O2S Client](../comm.md#cloud-communication) and make object not reachable via JCP ([Cloud Communication](/docs/features/communication.md#cloud-communication)).                                                                                                                                                                                                                                                                                                                                                                  |
| jcp.connect<br/>(JCP_CONNECT)                                 | true                   | Set 'false' to prevent JOD Agent connection to [John Cloud Platform](/docs/comps/jcp/README.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| jcp.client.refresh<br/>(JCP_REFRESH_TIME)                     | 30                     | Seconds between each JCP connection retry, when JCP is not available.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| jcp.client.ssl<br/>(JCP_SSL)                                  | true                   | Set 'false' to disable SSL on communication with the JCP.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| jcp.client.id<br/>(JCP_CLIENT_ID)                             | ""                     | Valid client id for [JCP authentication](../comm.md#jcp-authentication). Same JOSP Objects/Distribution share same client id.                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| jcp.client.secret<br/>(JCP_CLIENT_SECRET)                     | ""                     | Secret associated to client id for [JCP authentication](../comm.md#jcp-authentication).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| jcp.url.apis<br/>(JCP_URL_APIS)                               | api.johnosproject.org  | Url to use as [John Cloud Platform](/docs/comps/jcp/README.md) entrypoint                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| jcp.url.auth<br/>(JCP_URL_AUTH)                               | auth.johnosproject.org | Url to use as [JCP authentication](../comm.md#jcp-authentication) service.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| jod.permissions.owner<br/>(JODPERM_OWNER)                     | 00000-00000-00000      | User to be considered as [object's owner](permissions.md#objects-owner), if the object has no owner (like an AnonymousObject during the object's registration) his value is ```00000-00000-00000```.                                                                                                                                                                                                                                                                                                                                                                     |
| jod.permissions.path<br/>(JODPERM_PATH)                       | configs/perms.jod      | Path for the file where store [object's permissions](permissions.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| jod.permissions.refresh<br/>(JODPERM_REFRESH)                 | 30                     | Seconds between each [permission updates](permissions.md#jcp-sync) check to the JCP.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| jod.permissions.generation_strategy<br/>(JODPERM_GENSTARTEGY) | standard               | [Permission generation strategy](permissions.md#generation). It can be one of the following values:<br/>**standard** permission generated following standard permissions rules<br/>**public** permission generated following public permissions rules.                                                                                                                                                                                                                                                                                                                   |
| jod.executor_mngr.pullers<br/>(JODPULLER_IMPLS)               | ""                     | List of JOD Agent [Puller](workers.md#pullers)'s declarations. Each Puller config must be expressed in the following format ```{FirmwareProto}://{FirmwareConfigs}```.                                                                                                                                                                                                                                                                                                                                                                                            |
| jod.executor_mngr.listeners<br/>(JODLISTENER_IMPLS)           | ""                     | List of JOD Agent [Listener](workers.md#listeners)'s declarations. Each Listener config must be expressed in the following format ```{FirmwareProto}://{FirmwareConfigs}```.                                                                                                                                                                                                                                                                                                                                                                                      |
| jod.executor_mngr.executors<br/>(JODEXECUTOR_IMPLS)           | ""                     | List of JOD Agent [Executor](workers.md#executors)'s declarations. Each Executor config must be expressed in the following format ```{FirmwareProto}://{FirmwareConfigs}```.                                                                                                                                                                                                                                                                                                                                                                                      |


In the [JOD source directory](/src/jospJOD/configs/jod_default.yml)
you can find some ```jod.yml``` example file used in the JOD development.